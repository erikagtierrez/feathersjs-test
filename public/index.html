<html>
  <head>
    <title>Welcome to Feathers</title>
  </head>
  <body>
    
    <div id="messageList"></div>


    <input type="text" placeholder="Message content" id="message" />
    <button onclick="sendMessage();">Send Message!</button>

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/core-js/2.1.4/core.min.js"></script>
    <script src="//unpkg.com/feathers-client@^1.0.0/dist/feathers.js"></script>
    <script src="socket.io/socket.io.js"></script>

  <script type="text/javascript"> 

  var socket=io();
  var app= feathers();
  app.configure(feathers.socketio(socket));
  
  var messages= app.service('messages');

  messages.on('created', function(message){
    var messageList= document.getElementById("messageList");
    messageList.innerHTML += "<h4>" + message.text +  "</h4>";
    console.log("Your message was sent ", message.text);
  });

  function sendMessage(){
    var messageValue= document.getElementById("message").value;
    messages.create({text: messageValue});
  }


  </script>


  </body>
</html>
